<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/favicon.ico" type="image/x-icon"/>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/c740d2f5b4.js" crossorigin="anonymous"></script>
    <title>Malbay Spotify ÖBS</title>
</head>
<style>
    .middle{
        text-align: center;
        align-items: center;
        margin-left: 10%;
        margin-right: 10%;
    }
    .card{
      align-content: center;
    }
    #footer{
      text-align: center;
      background-color: #1a1a1a;
      color: white;
      padding-bottom: 1%;
      padding-top: 1%;
    }
  a{
    color:rgb(243, 237, 237);
    padding: 1% 1%;
  }
  .card-title{
    color: #262A56;
  }
  .card-text{
    color: #B8621B;
  }
</style>
<body >
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid d-flex">
      <a class="navbar-brand" href="#">
        <i class="fa-brands fa-spotify"></i>
        Malbay Spotify
        <i class="bi bi-spotify"></i>
      </a>
      <div class="collapse navbar-collapse" id="navbarNav"></div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="https://open.spotify.com/user/s401gqteluvekk6fktq59jx1p?si=a9nUITzETtG14RKlmbK5bw&nd=1">Spotify</a>
        </li>
      </ul>
      </div>
    </div>
  </nav>

  <div class = "middle">
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title" id = "today"></h5>
      </div>
    </div>
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title">Previous Payment</h5>
        <p class="card-text" id= "previous"></p>
      </div>
    </div>
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title">Current Payment</h5>
        <p class="card-text" id= "current"></p>
      </div>
    </div>
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <h5 class="card-title">Next Payment</h5>
        <p class="card-text" id= "next"></p>
      </div>
    </div>
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <p class="card-title" id = "info"></p>
      </div>
    </div>
    <div class="card" style="width: 100%;">
      <div class="card-body">
        <p class="card-title" >Ödeme Tarihleri her ayın [25-30] arasında</p>
      </div>
    </div>
    <div class="row" >
      <div class="col-md-6 col-sm-12">
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/2HUBK11hDcrKJkDtUvuPPC?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="no" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
      <div class="col-md-6 col-sm-12">
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/4ag45a3ibIp7GZQFuUHTAu?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="no" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        </div>
    </div>

  </div>
  


  <footer id="footer">
    <div>
      <a href="https://www.linkedin.com/in/ledlyy/"><i class="fa-brands fa-linkedin"></i></a>
      <a href="https://twitter.com/ledlyy"><i class="fa-brands fa-twitter"></i></a>
      <a href="https://www.instagram.com/ledlyy"><i class="fa-brands fa-instagram"></i></a>
      <a href="https://github.com/ledlyy"><i class="fa-brands fa-github"></i></a>
      <a href="https://letterboxd.com/ledlyy/"><i class="fa-brands fa-imdb"></i></a>

    </div>
    <p>© Copyright ledlyy</p>
    <p>All rights reserved by ledlyy</p>
  </footer>
   
    
  <script>
    function paymentSchedule() {
      const members = ["Göksu", "Gökay", "İbrahim Y.", "Hüdayi", "Mert", "İbrahim Ö."];
      const starting_month = 3;
      const starting_year = 2023;
      const current_month = new Date().getMonth()+1;
      const current_year = new Date().getFullYear();
      const current_time = new Date();

      const time_elapsed = (current_year - starting_year) * 12 + (current_month - starting_month);

      function getPayerIndex(time_elapsed) {
        const index = time_elapsed % members.length;
        return index >= 0 ? index : index + members.length;
      }

      function adjustTime(add) {
        const monthNames = [
          "Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"
        ];
        let _month = current_month + add;
        let _year = current_year;
        if (_month > 12) {
          _month -= 12;
          _year += 1;
        } else if (_month < 1) {
          _month += 12;
          _year -= 1;
        }
        const _time = ` [${monthNames[_month - 1]}, ${_year}]`;
        return _time;
      }
      
       document.getElementById("today").innerHTML = current_time;
       document.getElementById("previous").innerHTML = `${adjustTime(-1)}: Geçen ay ödeme yapan kişi: ${members[getPayerIndex(time_elapsed-1)]}`;
      document.getElementById("current").innerHTML = `${adjustTime(0)}: Bu ay ödeme yapıcak kişi: ${members[getPayerIndex(time_elapsed)]}`;
      document.getElementById("next").innerHTML = `${adjustTime(1)}: Gelecek ay ödeme yapacak olan kişi: ${members[getPayerIndex(time_elapsed+1)]}`;
      document.getElementById("info").innerHTML = `Toplam ödenen ay: ${time_elapsed+38}`;
    }
    paymentSchedule();
  </script>
   
</body>
</html>
